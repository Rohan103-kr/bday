<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>For You, Bubu</title>
<link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;1,9..144,300;1,9..144,400;1,9..144,600&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet"/>
<style>
:root{
  --ink:#0d0510;--ink2:#1a0b22;
  --rose:#ff6b9d;--crimson:#c2185b;--wine:#6b0042;
  --gold:#f4c550;--gold2:#fde68a;--gold-dim:rgba(244,197,80,.3);
  --lilac:#d4a8ff;--purple:#7c3aed;
  --cream:#fdf8f0;--blush:#ffe4ef;
  --text-dim:rgba(255,255,255,.32);--text-mid:#9d6080;--muted:rgba(255,255,255,.2);
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{font-family:'DM Sans',sans-serif;background:var(--ink);color:rgba(255,255,255,.85);overflow-x:hidden;cursor:none;}

/* NOISE */
body::after{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");opacity:.025;pointer-events:none;z-index:99999;}

/* CURSOR */
#cur{width:10px;height:10px;border-radius:50%;background:var(--gold);position:fixed;top:0;left:0;z-index:999999;pointer-events:none;transform:translate(-50%,-50%);mix-blend-mode:difference;transition:width .2s,height .2s;}
#cur-ring{width:38px;height:38px;border-radius:50%;border:1px solid rgba(244,197,80,.45);position:fixed;top:0;left:0;z-index:999998;pointer-events:none;transform:translate(-50%,-50%);transition:all .18s ease;}

/* PARTICLE BG */
#bg-cv{position:fixed;inset:0;z-index:0;pointer-events:none;}
#conf-cv{position:fixed;inset:0;z-index:9997;pointer-events:none;}

/* LOADER */
#loader{position:fixed;inset:0;background:var(--ink);z-index:999997;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 1.2s ease,visibility 1.2s ease;}
#loader.gone{opacity:0;visibility:hidden;pointer-events:none;}
.ld-orb{width:80px;height:80px;border-radius:50%;background:conic-gradient(var(--crimson),var(--gold),var(--purple),var(--crimson));animation:orbSpin 2s linear infinite;position:relative;}
.ld-orb-inner{position:absolute;inset:6px;background:var(--ink);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;}
@keyframes orbSpin{to{transform:rotate(360deg)}}
.ld-title{font-family:'Fraunces',serif;font-size:clamp(2rem,5vw,3rem);font-style:italic;color:var(--gold);margin-top:2rem;opacity:0;animation:fadeUp .7s ease .6s both;}
.ld-sub{font-family:'Syne',sans-serif;font-size:.62rem;letter-spacing:.4em;text-transform:uppercase;color:var(--text-dim);margin-top:.6rem;opacity:0;animation:fadeUp .7s ease .9s both;}
.ld-bar-wrap{width:180px;height:1px;background:rgba(255,255,255,.07);margin-top:2.5rem;overflow:hidden;border-radius:2px;opacity:0;animation:fadeUp .5s ease 1.1s both;}
.ld-bar{height:100%;width:0;background:linear-gradient(90deg,var(--crimson),var(--gold));transition:width 2.5s ease 1.3s;}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}

/* MUSIC */
#music-player{position:fixed;bottom:2rem;right:2rem;z-index:9990;display:flex;align-items:center;gap:.9rem;background:rgba(13,5,16,.9);backdrop-filter:blur(20px);border:1px solid rgba(244,197,80,.18);border-radius:60px;padding:.62rem 1.3rem .62rem .7rem;cursor:pointer;transition:transform .3s,box-shadow .3s;box-shadow:0 8px 30px rgba(0,0,0,.4),inset 0 1px 0 rgba(255,255,255,.04);}
#music-player:hover{transform:scale(1.05) translateY(-2px);box-shadow:0 16px 45px rgba(0,0,0,.5);}
.mp-btn{width:36px;height:36px;background:linear-gradient(135deg,var(--crimson),var(--purple));border-radius:50%;border:none;color:#fff;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px rgba(194,24,91,.5);}
.mp-title{color:rgba(255,255,255,.85);font-size:.7rem;font-weight:500;}
.mp-sub{color:var(--text-dim);font-size:.58rem;}
.mp-vis{display:flex;align-items:flex-end;gap:2px;height:16px;}
.mp-b{width:2.5px;background:var(--gold);border-radius:2px;animation:mbounce .55s ease infinite alternate;}
.mp-b:nth-child(1){height:30%;animation-delay:0s}.mp-b:nth-child(2){height:60%;animation-delay:.1s}
.mp-b:nth-child(3){height:100%;animation-delay:.25s}.mp-b:nth-child(4){height:45%;animation-delay:.07s}
.mp-b:nth-child(5){height:75%;animation-delay:.18s}
@keyframes mbounce{from{transform:scaleY(.15)}to{transform:scaleY(1)}}
.mp-vis.paused .mp-b{animation-play-state:paused;transform:scaleY(.25);}

/* NAV DOTS */
#nav-dots{position:fixed;right:1.6rem;top:50%;transform:translateY(-50%);z-index:9980;display:flex;flex-direction:column;gap:.85rem;}
.ndot{width:5px;height:5px;border-radius:50%;background:rgba(255,255,255,.18);cursor:pointer;transition:all .35s;position:relative;}
.ndot::after{content:attr(data-l);position:absolute;right:calc(100% + .8rem);top:50%;transform:translateY(-50%);font-family:'Syne',sans-serif;font-size:.58rem;letter-spacing:.12em;text-transform:uppercase;color:var(--gold);white-space:nowrap;opacity:0;transition:opacity .3s;pointer-events:none;}
.ndot:hover::after,.ndot.active::after{opacity:1;}
.ndot.active{background:var(--gold);transform:scale(1.6);}

/* ===== HERO ===== */
#hero{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:5rem 2rem 4rem;position:relative;overflow:hidden;z-index:1;}
.hero-line{position:absolute;width:200%;height:1px;left:-50%;pointer-events:none;}
.hl1{background:linear-gradient(90deg,transparent,rgba(244,197,80,.12),transparent);top:32%;transform:rotate(-10deg);}
.hl2{background:linear-gradient(90deg,transparent,rgba(255,107,157,.08),transparent);top:68%;transform:rotate(-10deg);}
.hglow{position:absolute;border-radius:50%;pointer-events:none;filter:blur(90px);}
.hg1{width:900px;height:900px;background:radial-gradient(circle,rgba(194,24,91,.2),transparent 60%);top:-300px;right:-300px;animation:hgDrift1 14s ease infinite alternate;}
.hg2{width:650px;height:650px;background:radial-gradient(circle,rgba(124,58,237,.15),transparent 60%);bottom:-250px;left:-200px;animation:hgDrift2 18s ease infinite alternate;}
.hg3{width:450px;height:450px;background:radial-gradient(circle,rgba(244,197,80,.1),transparent 60%);top:50%;left:50%;transform:translate(-50%,-50%);animation:hgPulse 10s ease infinite alternate;}
@keyframes hgDrift1{to{transform:translate(-50px,50px)}}
@keyframes hgDrift2{to{transform:translate(50px,-60px)}}
@keyframes hgPulse{to{transform:translate(-50%,-50%) scale(1.3)}}

.hero-eyebrow{font-family:'Syne',sans-serif;font-size:.68rem;letter-spacing:.44em;text-transform:uppercase;color:var(--gold);margin-bottom:2.5rem;opacity:0;animation:fadeUp .9s ease .5s both;position:relative;z-index:2;}
.hero-eyebrow::before,.hero-eyebrow::after{content:'';display:inline-block;width:28px;height:1px;background:var(--gold-dim);vertical-align:middle;margin:0 .8rem;}

.hero-title{font-family:'Fraunces',serif;font-size:clamp(2.4rem,7.5vw,5.8rem);font-weight:300;font-style:italic;line-height:1.12;color:#fff;max-width:920px;margin-bottom:1.4rem;opacity:0;animation:fadeUp .9s ease .8s both;position:relative;z-index:2;letter-spacing:-.02em;}
.hero-gold{color:var(--gold);position:relative;}
.hero-gold::after{content:'';position:absolute;left:0;bottom:-.12em;width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(244,197,80,.6),transparent);}

.hero-sub{font-family:'Fraunces',serif;font-size:clamp(1rem,2.8vw,1.55rem);font-weight:300;color:rgba(255,255,255,.38);margin-bottom:4rem;opacity:0;animation:fadeUp .9s ease 1.1s both;position:relative;z-index:2;letter-spacing:.01em;}

.hero-btn{padding:1.05rem 3rem;border-radius:60px;font-family:'Syne',sans-serif;font-size:.78rem;letter-spacing:.15em;text-transform:uppercase;font-weight:600;cursor:pointer;border:none;background:linear-gradient(135deg,var(--crimson),var(--wine));color:#fff;box-shadow:0 12px 45px rgba(194,24,91,.35),inset 0 1px 0 rgba(255,255,255,.1);position:relative;z-index:2;opacity:0;animation:fadeUp .9s ease 1.4s both;transition:all .4s;overflow:hidden;}
.hero-btn::before{content:'';position:absolute;inset:0;background:rgba(255,255,255,.08);opacity:0;transition:.3s;}
.hero-btn:hover{transform:translateY(-3px);box-shadow:0 20px 55px rgba(194,24,91,.5);}
.hero-btn:hover::before{opacity:1;}

.hero-scroll{margin-top:5rem;display:flex;flex-direction:column;align-items:center;gap:.7rem;opacity:0;animation:fadeUp .9s ease 1.8s both;position:relative;z-index:2;}
.hero-scroll-track{width:1px;height:65px;overflow:hidden;position:relative;}
.hero-scroll-track::before{content:'';position:absolute;inset:0;background:linear-gradient(180deg,transparent,var(--gold),transparent);animation:scrollT 2.2s ease infinite;}
@keyframes scrollT{0%{transform:translateY(-100%)}100%{transform:translateY(100%)}}
.hero-scroll-lbl{font-family:'Syne',sans-serif;font-size:.56rem;letter-spacing:.38em;text-transform:uppercase;color:var(--text-dim);}

/* DIVIDER */
.dline{width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(244,197,80,.12),transparent);position:relative;z-index:1;}

/* ===== SHARED SECTION ===== */
section{position:relative;z-index:1;}
.sticker{display:inline-flex;align-items:center;font-family:'Syne',sans-serif;font-size:.6rem;letter-spacing:.32em;text-transform:uppercase;color:var(--gold);border:1px solid rgba(244,197,80,.22);border-radius:60px;padding:.38rem 1.1rem;background:rgba(244,197,80,.04);margin-bottom:1.4rem;}
.sec-title{font-family:'Fraunces',serif;font-size:clamp(2.2rem,5.5vw,4rem);font-weight:300;line-height:1.12;letter-spacing:-.02em;}
.sec-title em{font-style:italic;color:var(--gold);}
.sec-title span{color:var(--rose);}
.sec-sub{font-family:'Fraunces',serif;font-style:italic;font-size:1.12rem;font-weight:300;color:var(--text-dim);margin-top:.9rem;max-width:480px;}
.sec-light .sec-title{color:var(--ink);}
.sec-light .sec-title em{color:var(--crimson);}
.sec-light .sec-title span{color:var(--crimson);}
.sec-light .sec-sub{color:var(--text-mid);}
.sec-light .sticker{color:var(--crimson);border-color:rgba(194,24,91,.22);background:rgba(194,24,91,.04);}
.sec-light{background:var(--cream);color:var(--ink);}
.sec-dark{background:var(--ink);}
.sec-dark2{background:var(--ink2);}
.si{padding:7rem 2rem 5rem;}

.reveal{opacity:0;transform:translateY(32px);transition:opacity .8s cubic-bezier(.22,1,.36,1),transform .8s cubic-bezier(.22,1,.36,1);}
.rl{opacity:0;transform:translateX(-28px);transition:opacity .8s cubic-bezier(.22,1,.36,1) .1s,transform .8s cubic-bezier(.22,1,.36,1) .1s;}
.rr{opacity:0;transform:translateX(28px);transition:opacity .8s cubic-bezier(.22,1,.36,1) .1s,transform .8s cubic-bezier(.22,1,.36,1) .1s;}
.reveal.vis,.rl.vis,.rr.vis{opacity:1;transform:none;}

/* ===== TIMELINE ===== */
.timeline{max-width:760px;margin:0 auto;padding:0 1.5rem;position:relative;}
.timeline::before{content:'';position:absolute;left:50%;top:0;bottom:0;width:1px;background:linear-gradient(180deg,transparent,rgba(194,24,91,.22) 15%,rgba(124,58,237,.22) 85%,transparent);transform:translateX(-50%);}
.tl-item{display:flex;justify-content:flex-end;padding-right:calc(50% + 3rem);margin-bottom:3.5rem;position:relative;}
.tl-item.r{justify-content:flex-start;padding-right:0;padding-left:calc(50% + 3rem);}
.tl-dot{position:absolute;left:50%;top:1.4rem;width:10px;height:10px;background:var(--crimson);border-radius:50%;transform:translateX(-50%);border:2px solid var(--cream);box-shadow:0 0 0 3px rgba(194,24,91,.2),0 0 20px rgba(194,24,91,.2);transition:box-shadow .3s;}
.tl-item:hover .tl-dot{box-shadow:0 0 0 5px rgba(194,24,91,.2),0 0 35px rgba(194,24,91,.4);}
.tl-card{background:#fff;border-radius:22px;padding:1.6rem 1.4rem;max-width:262px;border:1px solid rgba(194,24,91,.1);box-shadow:0 4px 28px rgba(0,0,0,.06);transition:transform .35s cubic-bezier(.22,1,.36,1),box-shadow .35s;}
.tl-card:hover{transform:translateY(-5px);box-shadow:0 16px 45px rgba(194,24,91,.1);}
.tc-emoji{font-size:1.7rem;margin-bottom:.55rem;display:block;}
.tc-month,.tc-date{font-family:'Syne',sans-serif;font-size:.58rem;letter-spacing:.22em;text-transform:uppercase;color:var(--crimson);margin-bottom:.38rem;}
.tc-title{font-family:'Fraunces',serif;font-size:1.1rem;color:var(--ink);margin-bottom:.38rem;font-weight:400;}
.tc-desc{font-size:.8rem;color:var(--text-mid);line-height:1.75;}
/* Special timeline card accents */
.tl-special{border-top:2px solid rgba(194,24,91,.35) !important;background:linear-gradient(160deg,#fff,#fff8fb) !important;}
.tl-special .tc-date{color:var(--crimson);}
.tl-bomb{border-top:2px solid rgba(255,107,0,.35) !important;background:linear-gradient(160deg,#fff,#fffcf7) !important;}
.tl-bomb .tc-date{color:#c85000;}
.tl-bomb .tc-title{color:#7a2e00;}
.tl-bday{border-top:2px solid rgba(244,197,80,.5) !important;background:linear-gradient(160deg,#fff,#fffdf5) !important;}
.tl-bday .tc-date{color:#a07000;}

/* ===== TYPEWRITER ===== */
#tw-section{background:var(--ink2);overflow:hidden;}
.tw-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.018) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.018) 1px,transparent 1px);background-size:55px 55px;}
.tw-glow{position:absolute;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(194,24,91,.12),transparent 65%);top:-200px;right:-200px;pointer-events:none;}
.tw-inner{max-width:720px;margin:0 auto;text-align:center;position:relative;}
.tw-pill{font-family:'Syne',sans-serif;font-size:.6rem;letter-spacing:.38em;text-transform:uppercase;color:var(--gold);margin-bottom:2.8rem;}
.tw-box{background:rgba(255,255,255,.025);border:1px solid rgba(244,197,80,.12);border-radius:28px;padding:3.5rem 3rem;position:relative;}
.tw-box::before{content:'"';font-family:'Fraunces',serif;font-size:5rem;color:rgba(244,197,80,.06);position:absolute;top:.8rem;left:1.5rem;line-height:1;}
.tw-cat{font-family:'Syne',sans-serif;font-size:.58rem;letter-spacing:.26em;text-transform:uppercase;color:rgba(244,197,80,.45);margin-bottom:1.2rem;}
.tw-q{font-family:'Fraunces',serif;font-size:clamp(1.3rem,3.5vw,2rem);font-style:italic;font-weight:300;color:rgba(255,255,255,.9);line-height:1.82;min-height:4.5em;}
.tw-cur{display:inline-block;width:2px;height:1em;background:var(--gold);margin-left:3px;vertical-align:middle;animation:blink .9s step-end infinite;}
@keyframes blink{50%{opacity:0}}
.tw-dots{display:flex;justify-content:center;gap:.6rem;margin-top:2.5rem;}
.tw-dot{width:5px;height:5px;border-radius:50%;background:rgba(255,255,255,.14);cursor:pointer;transition:all .3s;}
.tw-dot.on{background:var(--gold);transform:scale(1.5);}
.tw-nav{display:flex;justify-content:center;gap:.8rem;margin-top:1.6rem;}
.tw-nav button{font-family:'Syne',sans-serif;font-size:.65rem;letter-spacing:.1em;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.5);padding:.55rem 1.4rem;border-radius:60px;cursor:pointer;transition:all .3s;}
.tw-nav button:hover{background:rgba(255,255,255,.12);color:#fff;border-color:rgba(255,255,255,.22);}

/* ===== GALLERY ===== */
#gallery-section{background:var(--ink);}
.gallery-stage{max-width:1000px;margin:0 auto;}
/* Main frame ‚Äî adapts to any portrait or landscape photo */
.gallery-frame{
  position:relative;border-radius:24px;overflow:hidden;
  background:#060110;
  min-height:380px;max-height:75vh;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 40px 100px rgba(0,0,0,.65),0 0 0 1px rgba(255,255,255,.06);
}
/* Blurred background fill for letterboxed images */
.gallery-blur-bg{
  position:absolute;inset:0;
  background-size:cover;background-position:center;
  filter:blur(30px) brightness(.3) saturate(1.5);
  transform:scale(1.12);
  z-index:0;
  transition:opacity .4s;
}
.gallery-frame img{
  display:block;position:relative;z-index:1;
  max-width:100%;max-height:75vh;
  width:auto;height:auto;
  object-fit:contain;
  transition:transform .7s ease,opacity .35s ease;
  border-radius:2px;
}
.gallery-frame img.switching{opacity:0;transform:scale(.97);}
.gallery-frame:hover img{transform:scale(1.02);}
.gallery-ph{
  width:100%;min-height:380px;
  background:linear-gradient(135deg,rgba(194,24,91,.1),rgba(124,58,237,.08));
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;z-index:1;
}
.gallery-ph span{font-size:4rem;}
.gallery-ph p{font-family:'Fraunces',serif;font-style:italic;color:rgba(255,255,255,.25);font-size:1.1rem;}
/* Gradient only at bottom */
.gallery-overlay{
  position:absolute;bottom:0;left:0;right:0;height:52%;
  background:linear-gradient(to top,rgba(0,0,0,.9) 0%,transparent 100%);
  pointer-events:none;z-index:2;
}
.gallery-cap{position:absolute;bottom:0;left:0;right:0;padding:2.5rem 2rem 2rem;z-index:3;}
.gallery-cap h3{font-family:'Fraunces',serif;font-size:1.3rem;font-weight:400;color:#fff;margin-bottom:.3rem;}
.gallery-cap p{font-size:.76rem;color:rgba(255,255,255,.42);font-style:italic;}
.gallery-badge{
  position:absolute;top:1.2rem;right:1.2rem;
  font-family:'Syne',sans-serif;font-size:.58rem;letter-spacing:.2em;
  background:rgba(0,0,0,.55);backdrop-filter:blur(12px);
  border:1px solid rgba(255,255,255,.1);color:rgba(255,255,255,.55);
  padding:.38rem .9rem;border-radius:60px;z-index:3;
}
/* Arrows inside the frame at sides */
.gallery-arrows{
  position:absolute;top:50%;transform:translateY(-50%);
  width:100%;left:0;
  display:flex;justify-content:space-between;
  padding:0 1.2rem;z-index:4;pointer-events:none;
}
.g-arrow{
  width:44px;height:44px;border-radius:50%;
  background:rgba(10,3,20,.8);backdrop-filter:blur(12px);
  border:1px solid rgba(255,255,255,.12);color:#fff;font-size:1.2rem;
  cursor:pointer;pointer-events:all;
  display:flex;align-items:center;justify-content:center;transition:all .25s;
}
.g-arrow:hover{background:var(--crimson);border-color:var(--crimson);transform:scale(1.1);}
/* Bottom controls */
.gallery-bottom{margin-top:1.4rem;display:flex;flex-direction:column;align-items:center;gap:.9rem;}
.gallery-dots{display:flex;justify-content:center;gap:.6rem;}
.g-dot{width:5px;height:5px;border-radius:50%;background:rgba(255,255,255,.15);cursor:pointer;transition:all .35s;}
.g-dot.on{background:var(--gold);width:20px;border-radius:3px;}
/* Thumbnail strip */
.gallery-strip{display:flex;gap:1rem;overflow-x:auto;padding:.2rem .2rem .5rem;scrollbar-width:none;}
.gallery-strip::-webkit-scrollbar{display:none;}
.g-thumb{
  width:88px;height:66px;border-radius:12px;overflow:hidden;
  border:2px solid transparent;opacity:.4;cursor:pointer;
  transition:all .35s;flex-shrink:0;
  background:rgba(255,255,255,.05);
  display:flex;align-items:center;justify-content:center;
}
.g-thumb.on{border-color:var(--gold);opacity:1;transform:scale(1.08);}
.g-thumb img{width:100%;height:100%;object-fit:cover;display:block;}
.g-thumb-ph{font-size:1.5rem;}

/* ===== FLIP CARDS ===== */
#reasons-section{background:var(--cream);}
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(168px,1fr));gap:1.1rem;max-width:1060px;margin:0 auto;}
.card{height:158px;perspective:1200px;cursor:pointer;}
.card-inner{position:relative;width:100%;height:100%;transition:transform .7s cubic-bezier(.4,0,.2,1);transform-style:preserve-3d;}
.card:hover .card-inner,.card.flipped .card-inner{transform:rotateY(180deg);}
.card-f,.card-b{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1.2rem;text-align:center;}
.card-f{background:#fff;border:1px solid rgba(194,24,91,.1);box-shadow:0 2px 20px rgba(0,0,0,.06);}
.cf-em{font-size:1.8rem;margin-bottom:.5rem;}
.cf-lb{font-family:'Syne',sans-serif;font-size:.6rem;letter-spacing:.14em;text-transform:uppercase;color:#9d6080;}
.card-b{background:linear-gradient(135deg,#6b0042,#400050);transform:rotateY(180deg);box-shadow:0 10px 40px rgba(107,0,66,.35);}
.card-b p{font-family:'Fraunces',serif;font-size:.92rem;line-height:1.72;font-style:italic;color:rgba(255,255,255,.88);}

/* ===== OPEN WHEN ===== */
#openwhen-section{background:var(--ink2);}
.ow-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(265px,1fr));gap:1.4rem;max-width:940px;margin:0 auto;}
.ow-env{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:22px;overflow:hidden;cursor:pointer;transition:all .35s cubic-bezier(.22,1,.36,1);}
.ow-env:hover{transform:translateY(-5px);background:rgba(255,255,255,.07);border-color:rgba(244,197,80,.18);box-shadow:0 20px 50px rgba(0,0,0,.3);}
.ow-top{background:linear-gradient(135deg,rgba(194,24,91,.16),rgba(124,58,237,.1));padding:1.3rem 1.4rem;display:flex;align-items:center;gap:.9rem;border-bottom:1px solid rgba(255,255,255,.05);}
.ow-em{font-size:1.6rem;}
.ow-lbl{font-family:'Syne',sans-serif;font-size:.58rem;letter-spacing:.18em;text-transform:uppercase;color:rgba(255,107,157,.8);font-weight:600;}
.ow-body{padding:1.4rem;}
.ow-peek{font-family:'Syne',sans-serif;font-size:.6rem;letter-spacing:.14em;text-transform:uppercase;color:rgba(255,255,255,.24);}
.ow-msg{display:none;font-family:'Fraunces',serif;font-style:italic;font-size:.98rem;font-weight:300;color:rgba(255,255,255,.75);line-height:1.82;}
.ow-env.open .ow-peek{display:none;}
.ow-env.open .ow-msg{display:block;}
.ow-env.open{border-color:rgba(244,197,80,.2);background:rgba(255,255,255,.06);}

/* ===== SCRATCH ===== */
#scratch-section{background:var(--ink);}
.scratch-wrap{max-width:460px;margin:0 auto;text-align:center;}
.scratch-frame{position:relative;width:100%;aspect-ratio:4/3;border-radius:28px;overflow:hidden;cursor:crosshair;box-shadow:0 40px 90px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,.06);}
.scratch-reveal{position:absolute;inset:0;background:linear-gradient(145deg,#fdf8f0,#ffe8f3,#f0ecff);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2.5rem;gap:1.2rem;}
.sr-em{font-size:3.5rem;filter:drop-shadow(0 6px 18px rgba(194,24,91,.3));}
.sr-h{font-family:'Fraunces',serif;font-size:clamp(1.3rem,4vw,2rem);color:var(--crimson);font-weight:400;line-height:1.3;font-style:italic;}
.sr-p{font-family:'Fraunces',serif;font-style:italic;font-size:1.05rem;color:#7c4464;line-height:1.78;font-weight:300;}
#scratch-cv{position:absolute;inset:0;border-radius:28px;}
.scratch-hint{margin-top:1.4rem;font-family:'Syne',sans-serif;font-size:.6rem;letter-spacing:.2em;text-transform:uppercase;color:var(--text-dim);}
.scratch-prog{font-family:'Syne',sans-serif;font-size:.65rem;letter-spacing:.12em;color:var(--text-dim);margin-top:.5rem;}
.scratch-rst{display:none;margin-top:1rem;font-family:'Syne',sans-serif;font-size:.68rem;letter-spacing:.12em;text-transform:uppercase;background:transparent;border:1px solid rgba(244,197,80,.3);color:var(--gold);padding:.6rem 1.6rem;border-radius:60px;cursor:pointer;transition:all .3s;}
.scratch-rst:hover{background:var(--gold);color:var(--ink);}



/* ===== SECRET ===== */
#secret-section{background:var(--cream);}
.sec-lock{max-width:520px;margin:0 auto;text-align:center;}
.lock-icon{font-size:3.5rem;display:block;margin-bottom:1.8rem;filter:drop-shadow(0 8px 20px rgba(194,24,91,.2));animation:lockFloat 3.5s ease infinite alternate;}
@keyframes lockFloat{from{transform:translateY(0)}to{transform:translateY(-9px)}}
.lock-text{font-family:'Fraunces',serif;font-style:italic;color:var(--text-mid);font-size:1.08rem;line-height:1.78;margin-bottom:2.5rem;font-weight:300;}
.lock-row{display:flex;gap:.8rem;justify-content:center;}
.lock-input{flex:1;max-width:255px;padding:1rem 1.4rem;border:1px solid rgba(194,24,91,.18);border-radius:60px;font-family:'DM Sans',sans-serif;font-size:.9rem;outline:none;transition:all .3s;background:#fff;color:var(--ink);text-align:center;letter-spacing:.08em;}
.lock-input:focus{border-color:var(--crimson);box-shadow:0 0 0 3px rgba(194,24,91,.07);}
.lock-input.err{border-color:#ef4444;animation:shake .4s ease;box-shadow:0 0 0 3px rgba(239,68,68,.08);}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.lock-btn{background:var(--ink);color:var(--gold);border:none;padding:1rem 1.8rem;border-radius:60px;cursor:pointer;font-family:'Syne',sans-serif;font-weight:600;font-size:.74rem;letter-spacing:.12em;text-transform:uppercase;transition:all .3s;box-shadow:0 8px 25px rgba(0,0,0,.2);}
.lock-btn:hover{transform:translateY(-2px);box-shadow:0 14px 35px rgba(0,0,0,.25);}
.lock-hint{font-family:'Fraunces',serif;font-style:italic;font-size:.88rem;color:#b07090;margin-top:.9rem;opacity:.7;}
.secret-card{display:none;background:var(--ink);border-radius:28px;padding:3.5rem 2.5rem;margin-top:2.5rem;text-align:center;animation:popIn .6s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden;}
.secret-card::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 25% 0,rgba(194,24,91,.18),transparent 55%),radial-gradient(ellipse at 75% 100%,rgba(124,58,237,.12),transparent 55%);}
.secret-card.show{display:block;}
@keyframes popIn{from{opacity:0;transform:scale(.88)}to{opacity:1;transform:scale(1)}}
.sc-em{font-size:2.8rem;margin-bottom:1.4rem;display:block;position:relative;}
.secret-card h3{font-family:'Fraunces',serif;font-size:1.7rem;color:var(--gold);margin-bottom:1.4rem;font-style:italic;font-weight:400;position:relative;}
.secret-card p{font-family:'Fraunces',serif;font-style:italic;color:rgba(255,255,255,.72);font-size:1.05rem;line-height:2;font-weight:300;position:relative;}

/* ===== FINALE ===== */
#finale{background:var(--ink);padding:9rem 2rem 8rem;text-align:center;overflow:hidden;}
.fg{position:absolute;border-radius:50%;pointer-events:none;filter:blur(100px);}
.fg1{width:700px;height:700px;background:rgba(194,24,91,.15);top:50%;left:50%;transform:translate(-50%,-50%);animation:fgP 7s ease infinite alternate;}
.fg2{width:400px;height:400px;background:rgba(124,58,237,.1);bottom:-100px;left:-100px;}
.fg3{width:350px;height:350px;background:rgba(244,197,80,.08);top:-100px;right:-100px;}
@keyframes fgP{from{transform:translate(-50%,-50%) scale(1)}to{transform:translate(-50%,-50%) scale(1.25)}}
.fin-pre{font-family:'Syne',sans-serif;font-size:.65rem;letter-spacing:.42em;text-transform:uppercase;color:var(--gold);margin-bottom:2.5rem;opacity:0;transition:all .9s ease;position:relative;}
.fin-pre::before,.fin-pre::after{content:'';display:inline-block;width:26px;height:1px;background:var(--gold-dim);vertical-align:middle;margin:0 .7rem;}
.fin-title{font-family:'Fraunces',serif;font-size:clamp(3rem,9vw,6.5rem);font-weight:300;font-style:italic;color:var(--gold);margin-bottom:1.2rem;opacity:0;transform:translateY(20px);transition:all 1s cubic-bezier(.22,1,.36,1);position:relative;line-height:1.08;letter-spacing:-.02em;}
.fin-sub{font-family:'Fraunces',serif;font-size:clamp(1.1rem,2.5vw,1.5rem);color:rgba(255,255,255,.35);font-style:italic;font-weight:300;max-width:600px;margin:0 auto 1.5rem;opacity:0;transition:all .9s ease .3s;position:relative;}
.fin-msg{font-family:'Fraunces',serif;font-size:clamp(1rem,2.2vw,1.3rem);font-weight:300;color:rgba(255,255,255,.62);max-width:660px;margin:0 auto 4rem;line-height:2.12;opacity:0;transition:all .9s ease .55s;position:relative;}
.fin-msg em{color:var(--gold);font-style:italic;}
.fin-pre.vis,.fin-title.vis,.fin-sub.vis,.fin-msg.vis{opacity:1;transform:none;}
.finale-btn{background:transparent;border:1px solid rgba(244,197,80,.35);color:var(--gold);padding:1.2rem 3.5rem;border-radius:60px;font-family:'Syne',sans-serif;font-size:.78rem;font-weight:600;cursor:pointer;letter-spacing:.16em;text-transform:uppercase;transition:all .4s;position:relative;z-index:1;}
.finale-btn:hover{background:var(--gold);color:var(--ink);box-shadow:0 0 60px rgba(244,197,80,.3);transform:translateY(-3px);}

/* ===== SECRET OVERLAY ===== */
#sec-overlay{display:none;position:fixed;inset:0;background:rgba(5,2,8,.97);z-index:99000;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:2rem;backdrop-filter:blur(20px);}
#sec-overlay.show{display:flex;animation:fadeUp .5s ease;}
.so-em{font-size:3rem;margin-bottom:1.5rem;display:block;}
.so-h{font-family:'Fraunces',serif;font-size:clamp(2rem,6vw,3.5rem);color:var(--gold);margin-bottom:1.5rem;font-style:italic;font-weight:300;}
.so-p{font-family:'Fraunces',serif;font-style:italic;color:rgba(255,255,255,.62);font-size:clamp(1rem,2.5vw,1.25rem);line-height:2;margin-bottom:2.5rem;max-width:520px;font-weight:300;}
.so-close{font-family:'Syne',sans-serif;font-size:.65rem;letter-spacing:.18em;text-transform:uppercase;background:rgba(255,255,255,.05);color:rgba(255,255,255,.4);border:1px solid rgba(255,255,255,.1);padding:.8rem 2rem;border-radius:60px;cursor:pointer;transition:all .3s;}
.so-close:hover{background:rgba(255,255,255,.12);color:#fff;}

@media(max-width:620px){
  .timeline::before{left:1.1rem}.tl-item,.tl-item.r{justify-content:flex-start;padding-left:2.8rem;padding-right:0}
  .tl-dot{left:1.1rem}
  .lock-row{flex-direction:column;align-items:center}.lock-input{max-width:100%}
  .cd-sep{display:none}#nav-dots{display:none}
}
</style>
</head>
<body>
<div id="cur"></div><div id="cur-ring"></div>
<canvas id="bg-cv"></canvas>
<canvas id="conf-cv"></canvas>

<div id="loader">
  <div class="ld-orb"><div class="ld-orb-inner">üíõ</div></div>
  <div class="ld-title">For You, Bubu</div>
  <div class="ld-sub">Loading love‚Ä¶</div>
  <div class="ld-bar-wrap"><div class="ld-bar" id="ld-bar"></div></div>
</div>

<div id="music-player" onclick="toggleMusic()">
  <button class="mp-btn" id="mp-btn">&#9654;</button>
  <div><div class="mp-title">Your favourite song</div><div class="mp-sub">&#9834; For Bubu üíõ</div></div>
  <div class="mp-vis paused" id="mp-vis">
    <div class="mp-b"></div><div class="mp-b"></div><div class="mp-b"></div><div class="mp-b"></div><div class="mp-b"></div>
  </div>
</div>
<audio id="bg-audio" loop>
  <source src="Mushkil Hai (Full Video)_ Rajkummar R, Triptii _ Sachin-Jigar,Vishal _ Vicky Vidya Ka Woh Wala Video - (320 Kbps).mp3" type="audio/mpeg"/>
</audio>

<nav id="nav-dots">
  <div class="ndot active" data-l="Home" onclick="goS('hero')"></div>
  <div class="ndot" data-l="Story" onclick="goS('story')"></div>
  <div class="ndot" data-l="Love Notes" onclick="goS('tw-section')"></div>
  <div class="ndot" data-l="Gallery" onclick="goS('gallery-section')"></div>
  <div class="ndot" data-l="Reasons" onclick="goS('reasons-section')"></div>
  <div class="ndot" data-l="Letters" onclick="goS('openwhen-section')"></div>
  <div class="ndot" data-l="Surprise" onclick="goS('scratch-section')"></div>
  <div class="ndot" data-l="Secret" onclick="goS('secret-section')"></div>
  <div class="ndot" data-l="Finale" onclick="goS('finale')"></div>
</nav>

<div id="sec-overlay">
  <span class="so-em">üîê</span>
  <h2 class="so-h">You found the secret‚Ä¶</h2>
  <p class="so-p">7 months. First birthday. And I'm just getting started.<br><br>Every click ‚Äî even the ones trying to prove I don't love you ‚Äî is proof that you're curious, alive, and matter so much to me. Thank you for existing in my world, bubu. üíõ</p>
  <button class="so-close" onclick="closeSO()">Close</button>
</div>

<!-- HERO -->
<section id="hero">
  <div class="hero-line hl1"></div><div class="hero-line hl2"></div>
  <div class="hglow hg1"></div><div class="hglow hg2"></div><div class="hglow hg3"></div>
  <p class="hero-eyebrow">18 February ‚Äî Happy Birthday, Bubu üéÇ</p>
  <h1 class="hero-title">To the girl who says‚Ä¶<br><span class="hero-gold">"Koi pyaar hi nahi karta"</span></h1>
  <p class="hero-sub">Okay. Let's settle this once and for all.</p>
  <button class="hero-btn" onclick="goS('story')">Click if you think no one loves you</button>
  <div class="hero-scroll"><div class="hero-scroll-track"></div><span class="hero-scroll-lbl">Scroll</span></div>
</section>
<div class="dline"></div>

<!-- STORY -->
<section id="story" class="sec-light">
  <div class="si" style="padding-bottom:1rem">
    <div style="text-align:center" class="reveal">
      <div class="sticker">Our Story</div>
      <h2 class="sec-title">How we <em>happened</em></h2>
      <p class="sec-sub">Every date. Every moment. Every one of them, ours. üíõ</p>
    </div>
  </div>
  <div class="timeline" style="padding-bottom:5rem">
    <div class="tl-item rl"><div class="tl-dot"></div>
      <div class="tl-card tl-special">
        <span class="tc-emoji">üå±</span>
        <div class="tc-date">24 August</div>
        <div class="tc-title">The Beginning</div>
        <div class="tc-desc">The day we first met. The first time I held your hand‚Ä¶ And in that moment, it felt like the person I had been waiting for my whole life had finally arrived. My love, it was you.</div>
      </div>
    </div>
    <div class="tl-item r rr"><div class="tl-dot"></div>
      <div class="tl-card">
        <span class="tc-emoji">üíõ</span>
        <div class="tc-date">2 October</div>
        <div class="tc-title">Our Second Date üíõ</div>
        <div class="tc-desc">We laughed, talked, and enjoyed every second together. It wasn't just a day ‚Äî it was a feeling I never wanted to end.</div>
      </div>
    </div>
    <div class="tl-item rl"><div class="tl-dot"></div>
      <div class="tl-card">
        <span class="tc-emoji">üç´</span>
        <div class="tc-date">11 December</div>
        <div class="tc-title">Food, smiles & warmth</div>
        <div class="tc-desc">We enjoyed food together and spent such beautiful time side by side. Simple moments. Soft smiles. The kind of memories that stay warm in the heart.</div>
      </div>
    </div>
    <div class="tl-item r rr"><div class="tl-dot"></div>
      <div class="tl-card tl-bomb">
        <span class="tc-emoji">üí•</span>
        <div class="tc-date">7 February</div>
        <div class="tc-title">Bobastic üòå</div>
        <div class="tc-desc">More powerful than a nuclear bomb ‚Äî in the most sarcastic and dramatic way possible. Loud laughs, crazy energy, unforgettable vibes. Only we can turn a normal day into something explosive.</div>
      </div>
    </div>
    <div class="tl-item rl"><div class="tl-dot"></div>
      <div class="tl-card tl-bday">
        <span class="tc-emoji">üéÇ</span>
        <div class="tc-date">18 February</div>
        <div class="tc-title">Your first birthday ‚Äî with me üéÇ</div>
        <div class="tc-desc">18 February. The day you came into this world. And I built you a website to prove it matters. Still think no one loves you? üôÉ</div>
      </div>
    </div>

  </div>
</section>
<div class="dline"></div>

<!-- TYPEWRITER -->
<section id="tw-section">
  <div class="tw-grid"></div><div class="tw-glow"></div>
  <div class="si"><div class="tw-inner">
    <div class="tw-pill reveal">Read one by one, bubu üíå</div>
    <div class="tw-box reveal">
      <div class="tw-cat" id="tw-cat">üíï When You Feel No One Loves You</div>
      <div class="tw-q"><span id="tw-text"></span><span class="tw-cur"></span></div>
      <div class="tw-dots" id="tw-dots"></div>
      <div class="tw-nav"><button onclick="twP()">‚Üê Prev</button><button onclick="twN()">Next ‚Üí</button></div>
    </div>
  </div></div>
</section>
<div class="dline"></div>

<!-- GALLERY -->
<section id="gallery-section">
  <div class="si">
    <div style="text-align:center;margin-bottom:3rem" class="reveal">
      <div class="sticker">Us üì∏</div>
      <h2 class="sec-title">Our <em>moments</em></h2>
      <p class="sec-sub" style="color:var(--text-dim)">The ones I'll always want to remember.</p>
    </div>
    <div class="gallery-stage reveal">
      <div class="gallery-frame" id="gallery-frame">
        <div class="gallery-blur-bg" id="gallery-blur-bg"></div>
        <div class="gallery-ph" id="gallery-ph"><span>üì∏</span><p>Your photos go here, bubu</p></div>
        <img id="gallery-img" src="" alt="" style="display:none"/>
        <div class="gallery-overlay"></div>
        <div class="gallery-cap"><h3 id="gcap-t">Our favourite memory</h3><p id="gcap-d">Add your own caption here ‚ú®</p></div>
        <div class="gallery-badge" id="gallery-badge">01 / 05</div>
        <div class="gallery-arrows"><button class="g-arrow" onclick="gPrev()">&#8249;</button><button class="g-arrow" onclick="gNext()">&#8250;</button></div>
      </div>
      <div class="gallery-bottom">
        <div class="gallery-dots" id="gallery-dots"></div>
        <div class="gallery-strip" id="gallery-strip"></div>
      </div>
    </div>
  </div>
</section>
<div class="dline"></div>

<!-- REASONS -->
<section id="reasons-section" class="sec-light">
  <div class="si">
    <div style="text-align:center;margin-bottom:3rem" class="reveal">
      <div class="sticker">Hover or tap üíõ</div>
      <h2 class="sec-title">Reasons I love <span>you</span></h2>
      <p class="sec-sub">You said no one loves you. I made a list. Sit down.</p>
    </div>
    <div class="cards-grid" id="cards-grid"></div>
  </div>
</section>
<div class="dline"></div>

<!-- OPEN WHEN -->
<section id="openwhen-section">
  <div class="si">
    <div style="text-align:center;margin-bottom:3rem" class="reveal">
      <div class="sticker">Tap to open üíå</div>
      <h2 class="sec-title">Open when you <em>feel‚Ä¶</em></h2>
      <p class="sec-sub" style="color:var(--text-dim)">Letters for every version of you.</p>
    </div>
    <div class="ow-grid" id="ow-grid"></div>
  </div>
</section>
<div class="dline"></div>

<!-- SCRATCH -->
<section id="scratch-section">
  <div class="si">
    <div style="text-align:center;margin-bottom:3rem" class="reveal">
      <div class="sticker">Scratch to reveal üéÅ</div>
      <h2 class="sec-title">A little <em>surprise</em></h2>
      <p class="sec-sub" style="color:var(--text-dim)">Use your finger or mouse to uncover it.</p>
    </div>
    <div class="scratch-wrap reveal">
      <div class="scratch-frame" id="scratch-frame">
        <div class="scratch-reveal"><div class="sr-em">üíõ</div><h3 class="sr-h">Happy Birthday, Bubu</h3><p class="sr-p">You are loved more than your dramatic little brain will ever allow you to believe. But I'll keep reminding you. Every. Single. Day. üå∏</p></div>
        <canvas id="scratch-cv"></canvas>
      </div>
      <div class="scratch-hint" id="scratch-hint">Scratch here with your finger or mouse</div>
      <div class="scratch-prog" id="scratch-prog"></div>
      <button class="scratch-rst" id="scratch-rst" onclick="resetScratch()">Scratch again</button>
    </div>
  </div>
</section>
<div class="dline"></div>

<!-- COUNTDOWN -->
<div class="dline"></div>

<!-- SECRET -->
<section id="secret-section" class="sec-light">
  <div class="si">
    <div style="text-align:center;margin-bottom:3rem" class="reveal">
      <div class="sticker">üîê For her eyes only</div>
      <h2 class="sec-title">A <span>secret</span> note</h2>
      <p class="sec-sub">Only she knows the password. Do you?</p>
    </div>
    <div class="sec-lock reveal">
      <span class="lock-icon">üîí</span>
      <p class="lock-text">There's one final message. Just for you.<br>Enter the password to unlock it, bubu.</p>
      <div class="lock-row">
        <input type="text" id="lock-input" class="lock-input" placeholder="our little secret‚Ä¶" onkeypress="if(event.key==='Enter')checkSecret()"/>
        <button class="lock-btn" onclick="checkSecret()">Unlock üíõ</button>
      </div>
      <p class="lock-hint">Hint: what do you call me? ü•∫</p>
      <div class="secret-card" id="secret-card">
        <span class="sc-em">üíå</span>
        <h3>There you are, my love.</h3>
        <p>I keep this message locked because it's only for you. No one else gets to read this.<br><br>You are the reason I smile at my phone at 2am. You are the reason I count days on a calendar. You are the reason I learned that love isn't just a feeling ‚Äî it's a choice I make every single day.<br><br>And I choose you. Again and again and again.<br><br>Happy Birthday, bubu. üíõ You deserve every good thing life has ever promised you.</p>
      </div>
    </div>
  </div>
</section>
<div class="dline"></div>

<!-- FINALE -->
<section id="finale">
  <div class="fg fg1"></div><div class="fg fg2"></div><div class="fg fg3"></div>
  <div class="fin-pre" id="fin-pre">Happy Birthday</div>
  <h2 class="fin-title" id="fin-title">Happy Birthday, Bubu üéÇ</h2>
  <p class="fin-sub" id="fin-sub">The most dramatic, honest, ambitious, impossibly lovely girl I know. Turning a year older ‚Äî and somehow more beautiful. üå∏</p>
  <p class="fin-msg" id="fin-msg">You walked into my life and immediately started saying no one loves you.<br>So I made you a website. Wrote you letters. Counted every day.<br><br><em>Is that enough proof yet, bubu?</em><br><br>Because I'm not done. Not even close.</p>
  <button class="finale-btn" onclick="celebrate()">Press for Birthday Surprise üéâ</button>
</section>

<script>
/* CURSOR */
const CUR=document.getElementById('cur'),RING=document.getElementById('cur-ring');
let mx=0,my=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;CUR.style.left=mx+'px';CUR.style.top=my+'px';setTimeout(()=>{RING.style.left=mx+'px';RING.style.top=my+'px';},120);});

/* PARTICLE STARS */
const bgC=document.getElementById('bg-cv'),bgX=bgC.getContext('2d');
let W,H,stars=[];
function resizeBg(){bgC.width=W=window.innerWidth;bgC.height=H=window.innerHeight;buildStars();}
function buildStars(){stars=[];for(let i=0;i<160;i++)stars.push({x:Math.random()*W,y:Math.random()*H,r:.3+Math.random()*1.2,a:Math.random(),da:.0015+Math.random()*.004,sx:Math.random()*1.5-0.75});}
function animStars(){bgX.clearRect(0,0,W,H);stars.forEach(s=>{s.a+=s.da;if(s.a>1||s.a<0)s.da*=-1;s.x+=s.sx*.04;if(s.x>W)s.x=0;if(s.x<0)s.x=W;bgX.beginPath();bgX.arc(s.x,s.y,s.r,0,Math.PI*2);bgX.fillStyle='rgba(255,255,255,'+s.a*.38+')';bgX.fill();});requestAnimationFrame(animStars);}
window.addEventListener('resize',resizeBg);resizeBg();animStars();

/* LOADER */
window.addEventListener('load',()=>{document.getElementById('ld-bar').style.width='100%';setTimeout(()=>{document.getElementById('loader').classList.add('gone');initScratch();buildGallery();},3500);});

/* NAV */
function goS(id){document.getElementById(id).scrollIntoView({behavior:'smooth'});}
const ndots=document.querySelectorAll('.ndot');
const secs=['hero','story','tw-section','gallery-section','reasons-section','openwhen-section','scratch-section','secret-section','finale'];
const ioN=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){const idx=secs.indexOf(e.target.id);if(idx>=0)ndots.forEach((d,i)=>d.classList.toggle('active',i===idx));}});},{threshold:.35});
secs.forEach(id=>{const el=document.getElementById(id);if(el)ioN.observe(el);});

/* MUSIC */
let playing=false;const aud=document.getElementById('bg-audio');
function toggleMusic(){if(playing){aud.pause();document.getElementById('mp-btn').innerHTML='&#9654;';document.getElementById('mp-vis').classList.add('paused');}else{aud.play().catch(()=>{});document.getElementById('mp-btn').innerHTML='&#9646;&#9646;';document.getElementById('mp-vis').classList.remove('paused');}playing=!playing;}

/* REVEAL */
const ioR=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add('vis');});},{threshold:.1});
document.querySelectorAll('.reveal,.rl,.rr').forEach(el=>ioR.observe(el));

/* TYPEWRITER */
const twData=[
  {cat:'üíï When You Feel No One Loves You',lines:["Koi pyaar nahi karta? Toh phir main kya hoon, bubu?","If loving you was a job, I'd be employee of the year. Every year.","Even on your worst days, I choose you.","You are deeply, madly, truly loved. By me. Always.","Distance doesn't reduce my love ‚Äî it tests it. And we're winning."]},
  {cat:'üå∏ Cute + Dramatic Notes',lines:["You're the only drama I willingly subscribe to.","Your overreactions are genuinely my favourite entertainment.","The way you pout should honestly be illegal.","I secretly love when you act angry. Don't tell anyone.","You are cute in a way that completely ruins my focus."]},
  {cat:'üòÇ Funny Ones',lines:["I miss your voice ‚Äî even when you're scolding me.","Long distance is hard, but at least I'm safe from your sudden mood swings.","You're lucky I exist.","If overthinking was a sport, you'd have Olympic gold.","Every day I count is a day closer to being with you again."]},
  {cat:'ü§ç About That First Hand-Hold',lines:["The first time I held your hand, I knew I didn't want to let go.","That moment is replayed in my head more than you know.","In that one touch, I felt something completely real.","I can't wait to hold it again so soon.","This time, I won't let go so easily."]},
  {cat:'üåü About Her Career',lines:["I love how serious you are about your goals.","Your ambition is honestly one of the most attractive things about you.","I don't just love you ‚Äî I deeply respect you.","I'll always support your dreams, never compete with them.","One day I'll proudly say, \"That successful girl? She's mine.\""]},
  {cat:'üíõ For Her Insecurities',lines:["You don't see how amazing you are. But I do.","You are enough ‚Äî even on the days you doubt yourself most.","I love your honesty. It makes you rare in a world full of performance.","You never have to pretend with me.","You are loved more than your dramatic brain will ever allow you to believe."]},
];
let tCi=0,tLi=0,tTO=null;
function twBD(){const d=document.getElementById('tw-dots');d.innerHTML='';twData[tCi].lines.forEach((_,i)=>{const dot=document.createElement('div');dot.className='tw-dot'+(i===tLi?' on':'');dot.onclick=()=>{tLi=i;twType();};d.appendChild(dot);});}
function twUD(){document.querySelectorAll('.tw-dot').forEach((d,i)=>d.classList.toggle('on',i===tLi));}
function twType(){if(tTO)clearTimeout(tTO);const txt=twData[tCi].lines[tLi];document.getElementById('tw-cat').textContent=twData[tCi].cat;document.getElementById('tw-text').textContent='';twUD();let i=0;function t(){if(i<=txt.length){document.getElementById('tw-text').textContent=txt.slice(0,i);i++;tTO=setTimeout(t,38);}}t();}
function twN(){tLi++;if(tLi>=twData[tCi].lines.length){tLi=0;tCi=(tCi+1)%twData.length;twBD();}else twUD();twType();}
function twP(){tLi--;if(tLi<0){tCi=(tCi-1+twData.length)%twData.length;tLi=twData[tCi].lines.length-1;twBD();}else twUD();twType();}
twBD();twType();setInterval(twN,5500);

/* GALLERY */
const photos=[
  {src:'1.jpeg',emoji:'üì∏',cap:'Our favourite memory',desc:'Replace with your real photo + caption ‚ú®'},
  {src:'2.jpeg',emoji:'üå∏',cap:'That one perfect moment',desc:'Add a cute caption here üíõ'},
  {src:'3.jpeg',emoji:'üíõ',cap:'Us being us',desc:'Your own words go here üå∑'},
  {src:'4.jpeg',emoji:'üåô',cap:'Late night vibes',desc:'Another beautiful memory üíå'},
  {src:'5.jpeg',emoji:'‚ú®',cap:'My favourite photo of you',desc:'The one I keep looking at ü•∫'},
];
let gI=0,gT;
function buildGallery(){
  const strip=document.getElementById('gallery-strip'),dots=document.getElementById('gallery-dots');
  photos.forEach((p,i)=>{
    const th=document.createElement('div');th.className='g-thumb'+(i===0?' on':'');
    if(p.src){const img=document.createElement('img');img.src=p.src;th.appendChild(img);}
    else{const ph=document.createElement('div');ph.className='g-thumb-ph';ph.textContent=p.emoji;th.appendChild(ph);}
    th.onclick=()=>{clearInterval(gT);showPhoto(i);startGA();};strip.appendChild(th);
    const dot=document.createElement('div');dot.className='g-dot'+(i===0?' on':'');dot.onclick=()=>{clearInterval(gT);showPhoto(i);startGA();};dots.appendChild(dot);
  });
  showPhoto(0);startGA();
}
function startGA(){gT=setInterval(gNext,4500);}
function showPhoto(i){
  gI=i;const p=photos[i];
  const img=document.getElementById('gallery-img'),ph=document.getElementById('gallery-ph');
  const blur=document.getElementById('gallery-blur-bg');
  if(p.src){
    // smooth transition
    img.classList.add('switching');
    setTimeout(()=>{
      img.src=p.src;
      img.style.display='block';
      ph.style.display='none';
      // blurred bg
      blur.style.backgroundImage='url('+p.src+')';
      blur.style.display='block';
      img.onload=()=>img.classList.remove('switching');
    },200);
  } else {
    img.style.display='none';
    blur.style.display='none';
    ph.style.display='flex';
    ph.querySelector('span').textContent=p.emoji;
  }
  document.getElementById('gcap-t').textContent=p.cap;
  document.getElementById('gcap-d').textContent=p.desc;
  document.getElementById('gallery-badge').textContent=String(i+1).padStart(2,'0')+' / '+String(photos.length).padStart(2,'0');
  document.querySelectorAll('.g-thumb').forEach((t,ti)=>t.classList.toggle('on',ti===i));
  document.querySelectorAll('.g-dot').forEach((d,di)=>d.classList.toggle('on',di===i));
}
function gNext(){showPhoto((gI+1)%photos.length);}
function gPrev(){showPhoto((gI-1+photos.length)%photos.length);}

/* FLIP CARDS */
const reasons=[
  {e:'‚ú®',f:'Your Honesty',b:"You say what you mean. That's so rare it's basically a superpower."},
  {e:'üå∏',f:'Your Ambition',b:"You're building something real with your life. Watching you work is genuinely inspiring."},
  {e:'üíõ',f:'Your Warmth',b:"Even when you're being dramatic, your heart is the softest thing in the room."},
  {e:'üòÇ',f:'Your Humor',b:"The way you're funny without trying is honestly a little unfair."},
  {e:'üå∑',f:'Your Softness',b:"Tougher than you look, softer than you admit. That combo is everything."},
  {e:'üí¨',f:'How You Talk',b:"Every conversation feels like something I want to save and re-read."},
  {e:'üéØ',f:'Your Focus',b:"When you set your mind to something, nothing moves you. Beautiful and slightly terrifying."},
  {e:'üåô',f:'Your Late Nights',b:"Even when you're tired, you show up. That matters more than you know."},
  {e:'üí™',f:'Your Strength',b:"You carry things quietly and still show up smiling. That takes real courage."},
  {e:'üéÄ',f:'Your Taste',b:"Everything you love, you love with your whole chest. No half-measures."},
  {e:'ü¶ã',f:'How You Grow',b:"You're not the same person from 6 months ago. Every version is better."},
  {e:'üíå',f:'Your Care',b:"When you care about someone, you go all in. The people who have that are lucky."},
  {e:'üåü',f:'Your Opinions',b:"You have things to say and you say them. That kind of confidence is magnetic."},
  {e:'ü´Ç',f:'Your Realness',b:"You don't pretend. What you feel, you feel. That authenticity is so refreshing."},
  {e:'üçÄ',f:'Your Quirks',b:"The weird little things about you are exactly what make you unforgettable."},
  {e:'üå∫',f:'Your Face',b:"The way you look when something makes you genuinely happy ‚Äî I could watch that forever."},
  {e:'‚ö°',f:'Your Energy',b:"When you walk in, the energy shifts. You don't even notice. But I do."},
  {e:'üéµ',f:'Your Drama',b:"Your dramatic moments are secretly my favourite. Don't tell anyone I said that."},
  {e:'üìñ',f:'Your Mind',b:"The way you think ‚Äî layered, complex, a little chaotic ‚Äî is absolutely fascinating."},
  {e:'üåà',f:'All of You',b:"Every part ‚Äî cute, dramatic, ambitious, messy ‚Äî I want all of it."},
];
const cg=document.getElementById('cards-grid');
reasons.forEach((r,idx)=>{const c=document.createElement('div');c.className='card';c.style.transitionDelay=(idx*.028)+'s';c.innerHTML='<div class="card-inner"><div class="card-f"><div class="cf-em">'+r.e+'</div><div class="cf-lb">'+r.f+'</div></div><div class="card-b"><p>'+r.b+'</p></div></div>';c.addEventListener('click',()=>c.classList.toggle('flipped'));cg.appendChild(c);});

/* OPEN WHEN */
const owData=[
  {e:'üò¢',w:"you feel like no one cares",m:"Someone built you a website. With sections. And a countdown timer. And scratch cards. Open your eyes, bubu. üíõ"},
  {e:'üò§',w:"you're frustrated with yourself",m:"You're doing better than you think. The fact that you're frustrated means you care. That's not a flaw ‚Äî it's a feature."},
  {e:'üåô',w:"you can't sleep",m:"Think about March 7. Think about the countdown running right now, somewhere on a screen, for you. Someone is counting every single day."},
  {e:'üéØ',w:"you doubt your goals",m:"You are going to build everything you said you would. I have never been more certain of anything in my entire life."},
  {e:'üíî',w:"something hurts",m:"You don't have to be okay right now. But the version of you in pain is still so, so worthy of love. I promise."},
  {e:'üéâ',w:"something good happens",m:"Tell me immediately. Every single detail. Please be as dramatic as possible ‚Äî I love that about you."},
  {e:'üò™',w:"you're exhausted",m:"Rest. You've earned it. You work so hard and you rarely let yourself just breathe. Breathe now, bubu. üå∏"},
  {e:'üíõ',w:"you forget you're loved",m:"Hi. It's me. The person who made this for you. You are loved. Deeply. Without condition. Every messy, dramatic, beautiful part of you."},
];
const owg=document.getElementById('ow-grid');
owData.forEach(o=>{const el=document.createElement('div');el.className='ow-env';el.innerHTML='<div class="ow-top"><div class="ow-em">'+o.e+'</div><div class="ow-lbl">Open when '+o.w+'</div></div><div class="ow-body"><span class="ow-peek">Tap to open this letter</span><p class="ow-msg">'+o.m+'</p></div>';el.addEventListener('click',()=>el.classList.toggle('open'));owg.appendChild(el);});

/* SCRATCH */
let sCV,sCX,sDraw=false,sDone=false;
function initScratch(){sCV=document.getElementById('scratch-cv');const fr=document.getElementById('scratch-frame');sCV.width=fr.offsetWidth;sCV.height=fr.offsetHeight;sCX=sCV.getContext('2d');const gr=sCX.createLinearGradient(0,0,sCV.width,sCV.height);gr.addColorStop(0,'#6b0042');gr.addColorStop(.5,'#c2185b');gr.addColorStop(1,'#400050');sCX.fillStyle=gr;sCX.fillRect(0,0,sCV.width,sCV.height);sCX.fillStyle='rgba(255,255,255,.2)';sCX.font='bold 20px Syne,sans-serif';sCX.textAlign='center';sCX.fillText('üéÅ Scratch here, bubu!',sCV.width/2,sCV.height/2-10);sCX.font='13px DM Sans,sans-serif';sCX.fillText('Use your finger or mouse',sCV.width/2,sCV.height/2+20);sCV.addEventListener('mousedown',e=>{sDraw=true;doS(e);});sCV.addEventListener('mousemove',e=>{if(sDraw)doS(e);});sCV.addEventListener('mouseup',()=>sDraw=false);sCV.addEventListener('touchstart',e=>{sDraw=true;doS(e.touches[0]);e.preventDefault();},{passive:false});sCV.addEventListener('touchmove',e=>{if(sDraw)doS(e.touches[0]);e.preventDefault();},{passive:false});sCV.addEventListener('touchend',()=>sDraw=false);}
function doS(e){const r=sCV.getBoundingClientRect();sCX.globalCompositeOperation='destination-out';sCX.beginPath();sCX.arc(e.clientX-r.left,e.clientY-r.top,32,0,Math.PI*2);sCX.fill();checkS();}
function checkS(){const d=sCX.getImageData(0,0,sCV.width,sCV.height).data;let tot=d.length/4,tr=0;for(let i=3;i<d.length;i+=4){if(d[i]<128)tr++;}const pct=Math.round(tr/tot*100);document.getElementById('scratch-prog').textContent=pct+'% revealed';if(pct>55&&!sDone){sDone=true;fullReveal();}}
function fullReveal(){sCX.clearRect(0,0,sCV.width,sCV.height);document.getElementById('scratch-hint').style.display='none';document.getElementById('scratch-rst').style.display='inline-block';document.getElementById('scratch-prog').textContent='üíõ Fully revealed!';celebrate();}
function resetScratch(){sDone=false;document.getElementById('scratch-rst').style.display='none';document.getElementById('scratch-hint').style.display='block';document.getElementById('scratch-prog').textContent='';initScratch();}



/* SECRET */
function checkSecret(){const inp=document.getElementById('lock-input');if(inp.value.trim().toLowerCase()==='bubu'){inp.classList.remove('err');document.getElementById('secret-card').classList.add('show');inp.value='';inp.disabled=true;document.querySelector('.lock-btn').disabled=true;document.querySelector('.lock-btn').textContent='üíõ Opened!';document.getElementById('secret-card').scrollIntoView({behavior:'smooth',block:'center'});celebrate();}else{inp.classList.add('err');setTimeout(()=>inp.classList.remove('err'),500);inp.value='';inp.focus();}}

/* CONFETTI */
const CC=document.getElementById('conf-cv'),CX=CC.getContext('2d');
CC.width=window.innerWidth;CC.height=window.innerHeight;
window.addEventListener('resize',()=>{CC.width=window.innerWidth;CC.height=window.innerHeight;});
let pieces=[],animC=false;
const cols=['#f4c550','#ff6b9d','#c2185b','#7c3aed','#fde68a','#fff','#ffb3c6','#d4a8ff'];
function celebrate(){for(let i=0;i<250;i++)pieces.push({x:Math.random()*CC.width,y:-20,w:3+Math.random()*9,h:3+Math.random()*5,c:cols[Math.floor(Math.random()*cols.length)],vx:-3+Math.random()*6,vy:2+Math.random()*6,rot:Math.random()*360,vr:-5+Math.random()*10});if(!animC){animC=true;animConf();}}
function animConf(){if(!animC)return;CX.clearRect(0,0,CC.width,CC.height);pieces=pieces.filter(p=>p.y<CC.height+40);if(!pieces.length){animC=false;return;}pieces.forEach(p=>{CX.save();CX.translate(p.x,p.y);CX.rotate(p.rot*Math.PI/180);CX.fillStyle=p.c;CX.fillRect(-p.w/2,-p.h/2,p.w,p.h);CX.restore();p.x+=p.vx;p.y+=p.vy;p.rot+=p.vr;p.vy+=.08;});requestAnimationFrame(animConf);}

/* 7-CLICK SECRET */
let cc=0;document.body.addEventListener('click',e=>{if(e.target.closest('#sec-overlay'))return;cc++;if(cc===7){document.getElementById('sec-overlay').classList.add('show');cc=0;}});
function closeSO(){document.getElementById('sec-overlay').classList.remove('show');}

/* FINALE */
const finObs=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){['fin-pre','fin-title','fin-sub','fin-msg'].forEach((id,i)=>{setTimeout(()=>document.getElementById(id).classList.add('vis'),i*200);});}});},{threshold:.2});
const finEl=document.getElementById('finale');if(finEl)finObs.observe(finEl);
</script>
</body>
</html>
